<idea-plugin version="23">
    <id>stepic.submmit.plugin.id</id>
    <name>Stepic Java submitter -beta-</name>
    <version>0.6.1</version>
    <vendor email="petr.bogdanov@stepic.org" url="https://stepic.org">Stepic</vendor>

    <description><![CDATA[
      Stepic plugin for code challenges on Java.<br>
      To use this plugin you have to have Stepic account and follow the course.<br>
      <br>
      It used Yandex.Translator to translate lesson names on Russian to package names on English.<br>
    ]]></description>

    <!--<change-notes><![CDATA[-->
    <!--Add change notes here.<br>-->
    <!--<em>most HTML tags may be used</em>-->
    <!--]]>-->
    <!--</change-notes>-->

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
    <idea-version since-build="139.1803"/>


    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <!-- uncomment to enable plugin in all products
    <depends>com.intellij.modules.lang</depends>
    -->

    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->

        <applicationService serviceInterface="org.stepic.plugin.storages.StepicApplicationStorage"
                        serviceImplementation="org.stepic.plugin.storages.StepicApplicationStorage"/>

        <projectService serviceInterface="org.stepic.plugin.storages.StudentStorage"
                            serviceImplementation="org.stepic.plugin.storages.StudentStorage"/>

        <projectService serviceInterface="org.stepic.plugin.storages.CourseDefinitionStorage"
                        serviceImplementation="org.stepic.plugin.storages.CourseDefinitionStorage"/>

        <projectService serviceInterface="org.stepic.plugin.storages.ActionVisibleProperties"
                        serviceImplementation="org.stepic.plugin.storages.ActionVisibleProperties"/>

        <moduleBuilder builderClass="org.stepic.plugin.projectWizard.StepicModuleBuilder"
                       id="STEPIC_MODULE_BUILDER"
                       order="first"/>

        <moduleType id="STEPIC_MODULE_TYPE"
                    implementationClass="org.stepic.plugin.projectWizard.StepicModuleType"/>

        <projectStructureDetector implementation="org.stepic.plugin.projectWizard.StepicProjectStructureDetector" order="first"/>

        <toolWindow id="Task Description" secondary="true" anchor="right"
                    factoryClass="org.stepic.plugin.toolWindow.StudyToolWindowFactory"/>
                    <!--factoryClass="org.stepic.plugin.toolWindow.MyToolWindowFactory"/>-->
                    <!--conditionClass="org.stepic.plugin.toolWindow.StudyCondition"/>-->
    </extensions>

    <extensionPoints>
        <!--<extensionPoint qualifiedName="Edu.StudyExecutor" beanClass="com.intellij.lang.LanguageExtensionPoint">-->
            <!--<with attribute="implementationClass" implements="com.jetbrains.edu.learning.checker.StudyExecutor"/>-->
        <!--</extensionPoint>-->
        <!--<extensionPoint qualifiedName="Edu.StudyLanguageManager" beanClass="com.intellij.lang.LanguageExtensionPoint">-->
            <!--<with attribute="implementationClass" implements="com.jetbrains.edu.learning.StudyLanguageManager"/>-->
        <!--</extensionPoint>-->
        <extensionPoint qualifiedName="Edu.studyToolWindowConfigurator" interface="org.stepic.plugin.toolWindow.StudyToolWindowConfigurator"/>
    </extensionPoints>

    <extensions defaultExtensionNs="Edu">
        <!--<StudyExecutor implementationClass="com.jetbrains.edu.learning.PyStudyExecutor" language="Python"/>-->
        <!--<StudyLanguageManager implementationClass="com.jetbrains.edu.learning.PyStudyLanguageManager" language="Python"/>-->
        <studyToolWindowConfigurator implementation="org.stepic.plugin.toolWindow.JavaStudyToolWindowConfigurator" />
    </extensions>

    <actions>
        <group id="ID.StepicGroup" text="_Stepic" popup="true">
            <add-to-group group-id="MainMenu" anchor="before" relative-to-action="HelpMenu"/>
        </group>

        <!-- Add your actions here -->
        <action id="ID.SendFile"
                class="org.stepic.plugin.actions.popupMenu.SendFile"
                text="Submit Solution"
                description="Send your solution to Stepic"
                icon="/icons/stepic_logo_green.png">
            <add-to-group group-id="EditorPopupMenu.Run" anchor="first"/>
            <add-to-group group-id="ProjectViewPopupMenuRunGroup" anchor="first"/>
        </action>

        <action id="ID.GetStepStatus"
                class="org.stepic.plugin.actions.popupMenu.GetStepStatus"
                text="Check Step Status"
                description="Get status of the step (e.g. wrong/correct)"
                icon="AllIcons.General.TodoQuestion">
            <add-to-group group-id="ProjectViewPopupMenuRunGroup" anchor="first"/>
            <add-to-group group-id="EditorPopupMenu.Run" anchor="first"/>
        </action>

        <action id="WhoAmI" class="org.stepic.plugin.actions.mainMenu.WhoAmI" text="_Who am I" description="return username">
            <add-to-group group-id="ID.StepicGroup" anchor="first"/>
        </action>

        <action id="ID.Update"
                class="org.stepic.plugin.actions.mainMenu.UpdateCourse"
                text="Update Course"
                description="Update this course">
            <add-to-group group-id="ID.StepicGroup" anchor="first"/>
        </action>

        <action id="ID.DownloadLastSubmission"
                class="org.stepic.plugin.actions.popupMenu.DownloadLastSubmission"
                text="Download Latest Submission"
                description="Download your latest submission from Stepic"
                icon="/icons/download_blue.png">
            <add-to-group group-id="ProjectViewPopupMenuRunGroup" anchor="first"/>
            <add-to-group group-id="EditorPopupMenu.Run" anchor="first"/>
        </action>

        <action id="ID.Help" class="org.stepic.plugin.actions.mainMenu.Help" text="_Help" description="Help">
            <add-to-group group-id="ID.StepicGroup" anchor="last"/>
        </action>

        <!--###########################################################################-->
        <action id="ID.PrintMapInfo"
                class="org.stepic.plugin.actions.mainMenu.PrintMapInfo"
                text="PrintMapInfo" description="PrintMapInfo">
            <!--<add-to-group group-id="ID.StepicGroup" anchor="first"/>-->
        </action>
        <action id="TEST.NegTranslator" class="org.stepic.plugin.actions.mainMenu.NegTranslator" text="NegTranslator"
                description="NegTranslator">
            <!--<add-to-group group-id="ID.StepicGroup" anchor="first"/>-->
        </action>
        <action id="ID.GetIdStep"
                class="org.stepic.plugin.actions.popupMenu.GetIdStep"
                text="GetIdStep"
                description="GetIdStep">
            <!--<add-to-group group-id="ProjectViewPopupMenuRunGroup" anchor="first"/>-->
            <!--<add-to-group group-id="EditorPopupMenu.Run" anchor="first"/>-->
        </action>
        <action id="ID.RefreshMap" class="org.stepic.plugin.actions.mainMenu.RefreshMap" text="Refresh Map"
                description="Refresh Map">
            <!--<add-to-group group-id="ID.StepicGroup" anchor="first"/>-->
        </action>

        <action id="ID.TEST.SomeAction"
                class="org.stepic.plugin.actions.mainMenu.SomeAction"
                text="SomeAction"
                description="SomeAction">
            <!--<add-to-group group-id="ID.StepicGroup" anchor="first"/>-->
        </action>

        <action id="Sign in" class="org.stepic.plugin.actions.mainMenu.SignIn" text="(tmp) Sign _in"
                description="Insert your e-mail and password">
            <!--<add-to-group group-id="ID.StepicGroup" anchor="first"/>-->
        </action>
        <action id="ID.RefreshToken" class="org.stepic.plugin.actions.mainMenu.RefreshToken" text="RefreshToken"
                description="get new token">
            <!--<add-to-group group-id="ID.StepicGroup" anchor="before" relative-to-action="ID.Help"/>-->
        </action>
    </actions>

    <module-components>
        <component>
            <implementation-class>org.stepic.plugin.components.MyModuleComponent</implementation-class>
        </component>
    </module-components>
    <project-components>
        <component>
            <implementation-class>org.stepic.plugin.components.MyProjectComponent</implementation-class>
        </component>
    </project-components>
</idea-plugin>
